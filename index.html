<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Card Reading</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            font-family: 'Georgia', serif;
            color: #f0f0f0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            text-align: center;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 2px;
        }

        .card-container {
            perspective: 1000px;
            margin: 30px 0;
            display: flex;
            justify-content: center;
        }

        .tarot-card { /* Changed from .card to .tarot-card to match JS */
            width: 200px;
            height: 350px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
            margin: 0 10px;
        }

        .tarot-card.flipped { /* Changed from .card to .tarot-card to match JS */
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .card-back {
            background: linear-gradient(45deg, #2c1810, #4a2c17);
            border: 3px solid #ffd700;
        }

        .card-front {
            background: linear-gradient(135deg, #f8f8ff, #e6e6fa);
            color: #2c1810;
            transform: rotateY(180deg);
            border: 3px solid #ffd700;
        }

        .back-pattern {
            font-size: 4rem;
            color: #ffd700;
            opacity: 0.8;
            position: relative; /* Make it a positioning context for reveal-text */
            top: -20px; /* Adjust emoji position slightly up */
        }

        .card-symbol {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .card-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c1810;
        }

        .card-meaning {
            font-size: 0.9rem;
            text-align: center;
            line-height: 1.4;
            color: #4a4a4a;
        }

        .button-group { /* Added for button grouping */
            margin-top: 20px;
        }

        .draw-button { /* Changed to match previous HTML structure */
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #2c1810;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-family: 'Georgia', serif;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(255,215,0,0.3);
            margin: 20px 10px; /* Adjusted margin for spacing */
            font-weight: bold;
        }

        .draw-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255,215,0,0.4);
        }

        .draw-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        #interpretation { /* Changed from .interpretation to #interpretation to match JS */
            margin-top: 30px;
            padding: 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,215,0,0.3);
            opacity: 0;
            transition: opacity 0.5s, max-height 0.5s ease; /* Added max-height for smooth hide/show */
            max-height: 0; /* Initially hidden */
            overflow: hidden; /* Hide overflow when collapsed */
            width: 100%;
            box-sizing: border-box;
            text-align: left; /* Align text left */
        }

        #interpretation.show {
            opacity: 1;
            max-height: 300px; /* Sufficient height to show content */
        }

        #interpretation h2 { /* Changed from h3 to h2 to match JS, also added styles */
            color: #ffd700;
            margin-top: 0;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        #interpretationText { /* Added for specific paragraph styling */
            font-size: 1.1rem;
            line-height: 1.6;
        }

        #deckCounter { /* Changed from .deck-counter to #deckCounter to match JS */
            font-size: 1.1rem;
            color: #ffd700;
            margin: 20px 0;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        #drawnCardsSection { /* Changed from .drawn-cards to #drawnCardsSection to match JS */
            margin-top: 40px;
            padding: 25px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
            width: 100%;
            box-sizing: border-box;
        }

        #drawnCardsSection h2 { /* Changed from h3 to h2 to match JS */
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
            text-align: center;
        }

        #drawnList { /* Changed from .drawn-list to #drawnList to match JS */
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }

        .drawn-card-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            border-left: 3px solid #ffd700;
        }

        .drawn-card-symbol {
            font-size: 1.5rem;
            margin-right: 10px;
            min-width: 30px;
        }

        .drawn-card-info {
            flex: 1;
        }

        .drawn-card-name {
            font-weight: bold;
            color: #f0f0f0;
            margin-bottom: 2px;
        }

        .drawn-card-meaning {
            font-size: 0.85rem;
            color: #cccccc;
            opacity: 0.8;
        }

        .stars-background { /* Changed from .stars to .stars-background to match JS */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            color: #ffd700;
            opacity: 0.6;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .reveal-text {
            color: #ffd700;
            font-size: 1rem;
            position: absolute;
            /* Adjusted top and transform to move it below the emoji */
            top: 65%; /* Move it further down */
            left: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 1.5s infinite;
            pointer-events: none;
        }

        @keyframes pulse {
            0% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
            100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); }
        }

    </style>
</head>
<body>
    <div class="stars-background" id="stars"></div>
    
    <div class="container">
        <h1>‚ú® Tarot Card Reading ‚ú®</h1>
        <div class="card-container">
            <div class="tarot-card" id="tarotCard">
                <div class="card-face card-back">
                    <div class="back-pattern">üåô</div>
                </div>
                <div class="card-face card-front" id="cardFront"></div>
            </div>
        </div>
        <div class="deck-counter" id="deckCounter">Cards Remaining: 78/78</div>
        <div class="button-group">
            <button class="draw-button" id="drawButton">Draw Your Card</button>
            <button class="draw-button" id="shuffleButton" style="background: linear-gradient(45deg, #8a2be2, #9932cc); margin-left: 10px;">Shuffle Deck</button>
        </div>
        <div id="interpretation">
            <h2>Card Interpretation</h2>
            <p id="interpretationText"></p>
        </div>
        <div id="drawnCardsSection">
            <h2>Cards Already Drawn</h2>
            <div id="drawnList">
                <p style="opacity: 0.7; font-style: italic;">No cards drawn yet</p>
            </div>
        </div>
    </div>

    <script>
        // Complete 78-card tarot deck
        const tarotCards = [
            // Major Arcana (22 cards)
            {
                name: "The Fool",
                symbol: "üÉè",
                meaning: "New beginnings, innocence, spontaneity",
                interpretation: "The Fool represents fresh starts and unlimited potential. You're standing at the beginning of a new journey, ready to take a leap of faith. Trust in yourself and embrace the adventure ahead."
            },
            {
                name: "The Magician",
                symbol: "üé©",
                meaning: "Manifestation, resourcefulness, power",
                interpretation: "The Magician indicates you have all the tools needed to achieve your goals. Your willpower and determination can turn dreams into reality. Focus your energy and take action."
            },
            {
                name: "The High Priestess",
                symbol: "üåô",
                meaning: "Intuition, sacred knowledge, divine feminine",
                interpretation: "The High Priestess calls you to trust your inner wisdom. Listen to your intuition and pay attention to your dreams. The answers you seek lie within."
            },
            {
                name: "The Empress",
                symbol: "üëë",
                meaning: "Femininity, beauty, nature, abundance",
                interpretation: "The Empress signifies creativity, nurturing, and abundance. It's time to embrace your creative side and nurture what you wish to grow in your life."
            },
            {
                name: "The Emperor",
                symbol: "‚öîÔ∏è",
                meaning: "Authority, establishment, structure",
                interpretation: "The Emperor represents leadership and stability. Take charge of your situation with confidence and establish the structure needed for success."
            },
            {
                name: "The Hierophant",
                symbol: "üèõÔ∏è",
                meaning: "Spiritual wisdom, religious beliefs, conformity",
                interpretation: "The Hierophant suggests seeking guidance from traditional wisdom or mentors. Consider the value of established systems and spiritual teachings."
            },
            {
                name: "The Lovers",
                symbol: "üíï",
                meaning: "Love, harmony, relationships, values alignment",
                interpretation: "The Lovers card represents important choices about relationships and values. Seek harmony and make decisions based on love and authentic connection."
            },
            {
                name: "The Chariot",
                symbol: "üè∫",
                meaning: "Control, willpower, success, determination",
                interpretation: "The Chariot indicates victory through determination and self-control. Stay focused on your goals and maintain balance between opposing forces."
            },
            {
                name: "Strength",
                symbol: "ü¶Å",
                meaning: "Strength, courage, persuasion, influence",
                interpretation: "Strength represents inner power and gentle control. Face your challenges with courage and compassion. Your true strength lies in patience and understanding."
            },
            {
                name: "The Hermit",
                symbol: "üèÆ",
                meaning: "Soul searching, introspection, inner guidance",
                interpretation: "The Hermit calls for solitude and self-reflection. Take time to search within yourself for answers. Your inner light will guide you through darkness."
            },
            {
                name: "Wheel of Fortune",
                symbol: "üé°",
                meaning: "Good luck, karma, life cycles, destiny",
                interpretation: "The Wheel of Fortune indicates changing circumstances. Trust that the universe is working in your favor. What goes around comes around."
            },
            {
                name: "Justice",
                symbol: "‚öñÔ∏è",
                meaning: "Justice, fairness, truth, cause and effect",
                interpretation: "Justice represents balance and accountability. Make decisions based on fairness and truth. The consequences of past actions are coming to light."
            },
            {
                name: "The Hanged Man",
                symbol: "üôÉ",
                meaning: "Suspension, restriction, letting go",
                interpretation: "The Hanged Man suggests a period of waiting and sacrifice. Sometimes you must let go and surrender to gain a new perspective on your situation."
            },
            {
                name: "Death",
                symbol: "ü¶ã",
                meaning: "Endings, beginnings, change, transformation",
                interpretation: "Death represents transformation and rebirth. An important phase of your life is ending to make way for something new and better. Embrace the change."
            },
            {
                name: "Temperance",
                symbol: "üçÉ",
                meaning: "Balance, moderation, patience, purpose",
                interpretation: "Temperance calls for patience and moderation. Find balance in all areas of your life. Healing and harmony come through gentle, steady progress."
            },
            {
                name: "The Devil",
                symbol: "üòà",
                meaning: "Bondage, addiction, sexuality, materialism",
                interpretation: "The Devil represents feeling trapped by material desires or unhealthy patterns. Recognize what binds you and remember you have the power to break free."
            },
            {
                name: "The Tower",
                symbol: "üóº",
                meaning: "Sudden change, upheaval, chaos, revelation",
                interpretation: "The Tower indicates sudden, dramatic change. Though challenging, this upheaval will clear away what no longer serves you, making room for new growth."
            },
            {
                name: "The Star",
                symbol: "‚≠ê",
                meaning: "Hope, faith, purpose, renewal, spirituality",
                interpretation: "The Star brings hope and healing after hardship. Trust in the future and your dreams. Renewal and inspiration are flowing into your life."
            },
            {
                name: "The Moon",
                symbol: "üåô",
                meaning: "Illusion, fear, anxiety, subconscious, intuition",
                interpretation: "The Moon reveals illusions and hidden fears. Trust your intuition to navigate through uncertainty. Not everything is as it appears."
            },
            {
                name: "The Sun",
                symbol: "‚òÄÔ∏è",
                meaning: "Positivity, fun, warmth, success, vitality",
                interpretation: "The Sun brings joy, success, and vitality. This is a time of happiness and achievement. Let your inner light shine brightly."
            },
            {
                name: "Judgement",
                symbol: "üìØ",
                meaning: "Judgement, rebirth, inner calling, absolution",
                interpretation: "Judgement represents spiritual awakening and rebirth. You're being called to a higher purpose. Release past regrets and embrace your true calling."
            },
            {
                name: "The World",
                symbol: "üåç",
                meaning: "Completion, accomplishment, travel, fulfillment",
                interpretation: "The World represents completion and fulfillment. You've reached an important milestone. Celebrate your achievements and prepare for the next cycle."
            },

            // Suit of Wands (Fire) - 14 cards
            {
                name: "Ace of Wands",
                symbol: "üî•",
                meaning: "Inspiration, new opportunities, growth",
                interpretation: "A spark of creative energy is igniting within you. New opportunities for growth and achievement are presenting themselves. Take action on your inspirations."
            },
            {
                name: "Two of Wands",
                symbol: "üó∫Ô∏è",
                meaning: "Future planning, making decisions, personal power",
                interpretation: "You're at a crossroads with important decisions to make. Consider your options carefully and plan for the future. Your personal power is growing."
            },
            {
                name: "Three of Wands",
                symbol: "üåÖ",
                meaning: "Expansion, foresight, overseas opportunities",
                interpretation: "Your efforts are beginning to pay off. Look toward expansion and new horizons. Opportunities may come from unexpected or distant sources."
            },
            {
                name: "Four of Wands",
                symbol: "üéâ",
                meaning: "Celebration, harmony, home, achievement",
                interpretation: "A time of celebration and harmony is at hand. You've achieved a significant milestone. Enjoy the stability and joy in your home and relationships."
            },
            {
                name: "Five of Wands",
                symbol: "‚öîÔ∏è",
                meaning: "Conflict, disagreements, competition",
                interpretation: "You're facing competition or conflicts that require your attention. Stay focused on your goals despite the chaos. This challenge will strengthen you."
            },
            {
                name: "Six of Wands",
                symbol: "üèÜ",
                meaning: "Victory, public recognition, progress",
                interpretation: "Success and recognition are coming your way. Your efforts have not gone unnoticed. Take pride in your achievements and inspire others."
            },
            {
                name: "Seven of Wands",
                symbol: "üõ°Ô∏è",
                meaning: "Challenge, competition, perseverance",
                interpretation: "You're defending your position against challenges. Stand your ground and maintain your convictions. Your perseverance will be rewarded."
            },
            {
                name: "Eight of Wands",
                symbol: "üí®",
                meaning: "Speed, rapid action, air travel, movement",
                interpretation: "Things are moving quickly in your life. Communication and travel may play important roles. Be ready to act swiftly when opportunities arise."
            },
            {
                name: "Nine of Wands",
                symbol: "üèÉ",
                meaning: "Resilience, courage, persistence, test of faith",
                interpretation: "You're in the final stretch of a challenging journey. Draw on your inner strength and resilience. Victory is within reach if you persevere."
            },
            {
                name: "Ten of Wands",
                symbol: "üì¶",
                meaning: "Burden, extra responsibility, hard work",
                interpretation: "You're carrying a heavy load of responsibilities. While the burden feels overwhelming, you're close to completion. Delegate when possible."
            },
            {
                name: "Page of Wands",
                symbol: "üì®",
                meaning: "Inspiration, ideas, discovery, limitless potential",
                interpretation: "A new creative opportunity or inspiring message is coming your way. Stay open to learning and exploring new possibilities with enthusiasm."
            },
            {
                name: "Knight of Wands",
                symbol: "üêé",
                meaning: "Action, adventure, fearlessness, energy",
                interpretation: "It's time to take bold action and embrace adventure. Your passionate energy can overcome obstacles. Act with confidence but avoid recklessness."
            },
            {
                name: "Queen of Wands",
                symbol: "üë∏",
                meaning: "Confidence, determination, social butterfly, warmth",
                interpretation: "Embody confidence and warmth in your interactions. Your natural charisma and determination attract others. Lead with your heart and intuition."
            },
            {
                name: "King of Wands",
                symbol: "üëë",
                meaning: "Leadership, vision, honor, determination",
                interpretation: "Step into a leadership role with confidence and vision. Your natural ability to inspire others will help you achieve your goals. Lead by example."
            },

            // Suit of Cups (Water) - 14 cards
            {
                name: "Ace of Cups",
                symbol: "üíß",
                meaning: "Love, new relationships, compassion, creativity",
                interpretation: "A new emotional beginning is flowing into your life. Open your heart to love, creativity, and spiritual fulfillment. Divine love surrounds you."
            },
            {
                name: "Two of Cups",
                symbol: "üíû",
                meaning: "Unified love, partnership, mutual attraction",
                interpretation: "A meaningful connection or partnership is forming. Whether romantic or platonic, this relationship brings harmony and mutual understanding."
            },
            {
                name: "Three of Cups",
                symbol: "ü•Ç",
                meaning: "Celebration, friendship, creativity, community",
                interpretation: "Celebrate with friends and community. Your social connections bring joy and support. Creative collaborations are especially favored now."
            },
            {
                name: "Four of Cups",
                symbol: "ü§î",
                meaning: "Meditation, contemplation, apathy, reevaluation",
                interpretation: "You may be feeling emotionally withdrawn or dissatisfied. Take time to reflect on what truly matters. New opportunities require your attention."
            },
            {
                name: "Five of Cups",
                symbol: "üò¢",
                meaning: "Loss, regret, disappointment, pessimism",
                interpretation: "You're grieving a loss or disappointment. While pain is real, don't let it blind you to the positive possibilities that still exist around you."
            },
            {
                name: "Six of Cups",
                symbol: "üå∏",
                meaning: "Revisiting the past, childhood memories, innocence",
                interpretation: "The past holds important lessons or reconnections for you. Approach situations with childlike wonder and innocence. Nostalgia brings healing."
            },
            {
                name: "Seven of Cups",
                symbol: "‚òÅÔ∏è",
                meaning: "Opportunities, choices, wishful thinking, illusion",
                interpretation: "Many options are before you, but not all are realistic. Ground your dreams in practical action. Beware of illusions and choose wisely."
            },
            {
                name: "Eight of Cups",
                symbol: "üö∂",
                meaning: "Disappointment, abandonment, withdrawal, escapism",
                interpretation: "You're walking away from a situation that no longer serves you. Though difficult, this departure is necessary for your emotional growth."
            },
            {
                name: "Nine of Cups",
                symbol: "üòä",
                meaning: "Contentment, satisfaction, gratitude, wish come true",
                interpretation: "Your emotional wishes are being fulfilled. This is a time of contentment and satisfaction. Express gratitude for the abundance in your life."
            },
            {
                name: "Ten of Cups",
                symbol: "üåà",
                meaning: "Divine love, blissful relationships, harmony, alignment",
                interpretation: "Emotional fulfillment and harmony in relationships await you. Your family and home life are sources of deep joy and contentment."
            },
            {
                name: "Page of Cups",
                symbol: "üê†",
                meaning: "Creative opportunities, intuitive messages, curiosity",
                interpretation: "A creative or emotional opportunity is emerging. Trust your intuition and remain open to the messages your heart is sending you."
            },
            {
                name: "Knight of Cups",
                symbol: "ü¶¢",
                meaning: "Romance, charm, 'Knight in shining armor', imagination",
                interpretation: "Follow your heart and pursue your dreams with romantic idealism. Your charm and emotional intelligence will help you achieve your desires."
            },
            {
                name: "Queen of Cups",
                symbol: "üîÆ",
                meaning: "Compassion, calm, comfort, intuition, inner feelings",
                interpretation: "Trust your intuition and emotional wisdom. Offer compassion to others while maintaining your own emotional boundaries. Your nurturing nature is a gift."
            },
            {
                name: "King of Cups",
                symbol: "üåä",
                meaning: "Emotional balance, compassion, diplomacy, calmness",
                interpretation: "You have mastered your emotions and can offer wise counsel to others. Lead with compassion and maintain balance between heart and mind."
            },

            // Suit of Swords (Air) - 14 cards
            {
                name: "Ace of Swords",
                symbol: "üó°Ô∏è",
                meaning: "Breakthrough, clarity, sharp mind, communication",
                interpretation: "A breakthrough in thinking or communication is coming. Mental clarity cuts through confusion. New ideas and intellectual pursuits are favored."
            },
            {
                name: "Two of Swords",
                symbol: "ü§∑",
                meaning: "Difficult decisions, weighing options, indecision",
                interpretation: "You're facing a difficult decision that requires careful consideration. Gather more information before choosing. Trust both logic and intuition."
            },
            {
                name: "Three of Swords",
                symbol: "üíî",
                meaning: "Heartbreak, emotional pain, sorrow, grief",
                interpretation: "You're experiencing emotional pain or heartbreak. Allow yourself to grieve, but remember that healing and growth come through this process."
            },
            {
                name: "Four of Swords",
                symbol: "üõå",
                meaning: "Rest, relaxation, meditation, contemplation",
                interpretation: "Your mind and body need rest and recuperation. Take time for meditation and peaceful contemplation. Healing comes through stillness."
            },
            {
                name: "Five of Swords",
                symbol: "ü•ä",
                meaning: "Conflict, disagreements, competition, defeat",
                interpretation: "You may have won a battle but lost the war. Consider whether this conflict is worth the cost. Sometimes walking away is the wisest choice."
            },
            {
                name: "Six of Swords",
                symbol: "‚õµ",
                meaning: "Transition, change, rite of passage, moving on",
                interpretation: "You're moving toward calmer waters after a difficult period. This transition, while challenging, leads to better circumstances."
            },
            {
                name: "Seven of Swords",
                symbol: "üïµÔ∏è",
                meaning: "Deception, trickery, getting away with something",
                interpretation: "Someone may be acting deceptively, or you're trying to avoid taking responsibility. Honesty is the best policy for long-term success."
            },
            {
                name: "Eight of Swords",
                symbol: "üï∏Ô∏è",
                meaning: "Imprisonment, restriction, self-imposed limitation",
                interpretation: "You feel trapped by circumstances, but many of these limitations are self-imposed. You have more options than you realize."
            },
            {
                name: "Nine of Swords",
                symbol: "üò∞",
                meaning: "Anxiety, worry, fear, depression, nightmares",
                interpretation: "Mental anguish and worry are consuming your peace. Remember that most fears exist only in your mind. Seek support and perspective."
            },
            {
                name: "Ten of Swords",
                symbol: "‚ö∞Ô∏è",
                meaning: "Painful endings, deep wounds, betrayal, crisis",
                interpretation: "You've reached rock bottom, but this ending makes way for a new beginning. The worst is behind you. Rise from these ashes stronger."
            },
            {
                name: "Page of Swords",
                symbol: "üìö",
                meaning: "New ideas, curiosity, thirst for knowledge, vigilance",
                interpretation: "Your curiosity and desire to learn are heightened. New ideas are forming. Stay alert and communicate your thoughts clearly."
            },
            {
                name: "Knight of Swords",
                symbol: "‚ö°",
                meaning: "Ambitious, action-oriented, driven to succeed, fast-thinking",
                interpretation: "Your ambitious nature drives you toward quick action. While your decisiveness is admirable, consider the consequences of hasty decisions."
            },
            {
                name: "Queen of Swords",
                symbol: "‚ùÑÔ∏è",
                meaning: "Independence, unbiased judgement, clear boundaries",
                interpretation: "Use your sharp intellect and clear judgment to cut through illusions. Maintain your independence while offering fair and honest counsel."
            },
            {
                name: "King of Swords",
                symbol: "üë®‚Äç‚öñÔ∏è",
                meaning: "Mental clarity, intellectual power, authority, truth",
                interpretation: "You possess the intellectual authority and clear thinking needed to make important decisions. Lead with logic, fairness, and truth."
            },

            // Suit of Pentacles (Earth) - 14 cards
            {
                name: "Ace of Pentacles",
                symbol: "üí∞",
                meaning: "A new financial or career opportunity, manifestation",
                interpretation: "A new opportunity for material or financial growth is presenting itself. Plant the seeds for future prosperity through practical action."
            },
            {
                name: "Two of Pentacles",
                symbol: "‚öñÔ∏è",
                meaning: "Multiple priorities, time management, prioritization",
                interpretation: "You're juggling multiple responsibilities and priorities. Find balance through careful time management and adaptability to changing circumstances."
            },
            {
                name: "Three of Pentacles",
                symbol: "üë•",
                meaning: "Teamwork, collaboration, learning, implementation",
                interpretation: "Collaboration and teamwork lead to success. Your skills are being recognized and valued. Learning from others enhances your expertise."
            },
            {
                name: "Four of Pentacles",
                symbol: "üè¶",
                meaning: "Saving money, security, conservatism, scarcity",
                interpretation: "You're focused on financial security and saving resources. While prudent, be careful not to become overly possessive or fearful of loss."
            },
            {
                name: "Five of Pentacles",
                symbol: "‚ùÑÔ∏è",
                meaning: "Financial loss, poverty, lack mindset, isolation",
                interpretation: "You may be experiencing financial hardship or feeling left out in the cold. Remember that help is available if you're willing to seek it."
            },
            {
                name: "Six of Pentacles",
                symbol: "ü§ù",
                meaning: "Generosity, charity, sharing wealth, community",
                interpretation: "You're in a position to give or receive help. Generosity and fair exchange create positive karma. Balance giving and receiving."
            },
            {
                name: "Seven of Pentacles",
                symbol: "üå±",
                meaning: "Long-term view, sustainable results, perseverance",
                interpretation: "Your long-term investments and efforts are beginning to show results. Continue to nurture your projects with patience and perseverance."
            },
            {
                name: "Eight of Pentacles",
                symbol: "üî®",
                meaning: "Apprenticeship, repetitive tasks, mastery, skill development",
                interpretation: "Dedication to improving your skills and craftsmanship will pay off. Focus on mastering your trade through diligent practice and attention to detail."
            },
            {
                name: "Nine of Pentacles",
                symbol: "üè°",
                meaning: "Abundance, luxury, self-reliance, financial independence",
                interpretation: "Your hard work has paid off, bringing financial independence and luxury. Enjoy the fruits of your labor while maintaining your self-reliance."
            },
            {
                name: "Ten of Pentacles",
                symbol: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                meaning: "Wealth, financial security, family, long-term success",
                interpretation: "Long-term financial security and family prosperity are within reach. Your legacy will benefit not just you but future generations."
            },
            {
                name: "Page of Pentacles",
                symbol: "üìñ",
                meaning: "Learning, studying, new opportunities, determination",
                interpretation: "A new opportunity for learning or financial growth is emerging. Approach it with determination and a willingness to master new skills."
            },
            {
                name: "Knight of Pentacles",
                symbol: "üêå",
                meaning: "Hard work, productivity, routine, conservatism",
                interpretation: "Steady, methodical progress toward your goals will bring success. Your dedication to hard work and routine creates lasting results."
            },
            {
                name: "Queen of Pentacles",
                symbol: "üåø",
                meaning: "Nurturing, practical, providing financially, down-to-earth",
                interpretation: "You have the ability to nurture others while maintaining practical wisdom. Your generosity and earth-centered approach create abundance."
            },
            {
                name: "King of Pentacles",
                symbol: "üíé",
                meaning: "Financial success, security, disciplined, abundance",
                interpretation: "You have achieved material success through discipline and wise management. Your prosperity allows you to be generous and create stability for others."
            }
        ];

        let currentCard = null;
        let availableCards = [...tarotCards]; // Copy of the full deck
        let drawnCards = []; // Track drawn cards
        let isDrawing = false; // Prevents multiple draws at once

        // Get button elements
        const drawButton = document.getElementById('drawButton');
        const shuffleButton = document.getElementById('shuffleButton');

        // Add event listeners
        drawButton.addEventListener('click', drawCard);
        shuffleButton.addEventListener('click', shuffleDeck);

        // Create twinkling stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            starsContainer.innerHTML = ''; // Clear existing stars before creating new ones
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.innerHTML = '‚ú¶';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.fontSize = (Math.random() * 0.5 + 0.5) + 'rem';
                starsContainer.appendChild(star);
            }
        }

        function updateDeckCounter() {
            const counter = document.getElementById('deckCounter');
            counter.textContent = `Cards Remaining: ${availableCards.length}/78`;
        }

        function updateDrawnCardsList() {
            const drawnList = document.getElementById('drawnList');
            
            if (drawnCards.length === 0) {
                drawnList.innerHTML = '<p style="opacity: 0.7; font-style: italic;">No cards drawn yet</p>';
                return;
            }

            drawnList.innerHTML = drawnCards.map(card => `
                <div class="drawn-card-item">
                    <div class="drawn-card-symbol">${card.symbol}</div>
                    <div class="drawn-card-info">
                        <div class="drawn-card-name">${card.name}</div>
                        <div class="drawn-card-meaning">${card.meaning}</div>
                    </div>
                </div>
            `).join('');
        }

        function shuffleDeck() {
            if (isDrawing) return;
            availableCards = [...tarotCards];
            drawnCards = [];
            currentCard = null;
            updateDeckCounter();
            updateDrawnCardsList();
            
            const tarotCardElement = document.getElementById('tarotCard');
            const cardBack = tarotCardElement.querySelector('.card-back');
            const revealTextElement = cardBack.querySelector('.reveal-text');
            if (revealTextElement) {
                cardBack.removeChild(revealTextElement);
            }

            tarotCardElement.classList.remove('flipped');
            tarotCardElement.onclick = null; // Remove click handler until a card is drawn
            document.getElementById('interpretation').classList.remove('show');
            document.getElementById('interpretationText').textContent = '';
            document.getElementById('cardFront').innerHTML = '';
            
            document.getElementById('drawButton').textContent = 'Draw Your Card';
            document.getElementById('drawButton').disabled = false;
        }

        function drawCard() {
            if (availableCards.length === 0) {
                alert('Deck is empty! Please shuffle to continue.');
                return;
            }
            if (isDrawing) return; // Prevent clicking while a draw is in progress
            isDrawing = true;

            const tarotCardElement = document.getElementById('tarotCard');
            const cardFront = document.getElementById('cardFront');
            const cardBack = tarotCardElement.querySelector('.card-back'); // Get the card back element
            const interpretationElement = document.getElementById('interpretation');
            const interpretationTextElement = document.getElementById('interpretationText');

            // Remove existing reveal text if any
            const existingRevealText = cardBack.querySelector('.reveal-text');
            if (existingRevealText) {
                cardBack.removeChild(existingRevealText);
            }

            // Hide interpretation and ensure card is back-facing for new draw
            interpretationElement.classList.remove('show');
            
            // If card is already flipped, we need to wait for it to flip back
            const wasFlipped = tarotCardElement.classList.contains('flipped');
            if (wasFlipped) {
                tarotCardElement.classList.remove('flipped');
            }
            
            // Disable button during transition
            drawButton.disabled = true;

            // Wait for flip-back animation to finish before updating the card content
            setTimeout(() => {
                // Select random card from available cards
                const randomIndex = Math.floor(Math.random() * availableCards.length);
                currentCard = availableCards[randomIndex]; // Get the card without removing it yet

                // Populate card front with new card's details
                cardFront.innerHTML = `
                    <div class="card-symbol">${currentCard.symbol}</div>
                    <div class="card-name">${currentCard.name}</div>
                    <div class="card-meaning">${currentCard.meaning}</div>
                `;

                // Add 'Click to reveal' text dynamically
                const revealTextDiv = document.createElement('div');
                revealTextDiv.className = 'reveal-text';
                revealTextDiv.textContent = 'Click to reveal';
                cardBack.appendChild(revealTextDiv);

                // Set the click handler to flip the card and show interpretation
                tarotCardElement.onclick = function() {
                    if (this.classList.contains('flipped')) return; // Do nothing if already flipped

                    this.classList.add('flipped');
                    
                    // Remove 'Click to reveal' text when card is flipped
                    const currentRevealText = cardBack.querySelector('.reveal-text');
                    if (currentRevealText) {
                        cardBack.removeChild(currentRevealText);
                    }

                    // Add to drawn list ONLY when revealed and remove from available cards
                    // This ensures the card is added to drawnCards as soon as it's revealed
                    // and not before, and also handles the scenario where another card is drawn
                    // before the previous one is flipped.
                    const indexInAvailable = availableCards.indexOf(currentCard);
                    if (indexInAvailable > -1) { // Check if it's still in availableCards
                        availableCards.splice(indexInAvailable, 1); // Remove the revealed card
                        drawnCards.unshift(currentCard); // Add to beginning of array
                        updateDeckCounter(); // Update counter after removing
                        updateDrawnCardsList();
                    }


                    // Show interpretation after a slight delay to allow flip animation
                    setTimeout(() => {
                        interpretationTextElement.textContent = currentCard.interpretation;
                        interpretationElement.classList.add('show');
                    }, 400); // Match card flip transition time
                };

                // Re-enable draw button and update text
                drawButton.textContent = availableCards.length > 0 ? 'Draw Next Card' : 'Deck Empty';
                if (availableCards.length > 0) {
                   drawButton.disabled = false;
                }
                
                isDrawing = false; // Allow next draw
            }, wasFlipped ? 800 : 0); // Delay only if card was flipped. 800ms for 0.8s transition.
        }

        // Initialize
        createStars();
        updateDeckCounter();
    </script>
</body>
</html>